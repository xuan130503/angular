<button
type="button"
[routerLink]="['/librariesadd']"
class="focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"
>
Create library
</button>
<nz-table #nestedTable [nzData]="librarys" [nzPageSize]="10">
  <thead>
    <tr>
      <th></th>
      <th>libraryId</th>

      <th>linraryname</th>
      <th>location</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <ng-template ngFor let-data [ngForOf]="nestedTable.data"
    >
      <tr>
        <td [(nzExpand)]="data.expand"></td>
        <td>{{ data.libraryId }}</td>
        <td>{{ data.libraryName }}</td>
        <td>{{ data.location }}</td>

        <td>
          <!-- <a (click)="startEdit(data.libraryId)" style=" margin-right: 8px;">edit</a> -->
<!--       
          <a nz-popconfirm nzPopconfirmTitle="Sure to cancel?" (nzOnConfirm)="deleteLibrary(data.libraryId)">Delete</a> -->
        </td>
      </tr>

      <tr [nzExpand]="data.expand">
        <nz-table
          #innerTable
          [nzData]="data.books"
          nzSize="middle"
          [nzShowPagination]="false"
        >
          <thead>
            <tr>
              <th>bookId</th>
              <th>bookTitle</th>
              <th>author</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let book of innerTable.data">
              <td>{{ book.bookId }}</td>

              <td>{{ book.bookTitle }}</td>
              <td>{{ book.author }}</td>
         
              <td>
                <a nz-popconfirm nzPopconfirmTitle="Sure to cancel?" (nzOnConfirm)="deleteBooks(book.bookId)">Delete</a>
              </td>
            </tr>
          </tbody>
        </nz-table>
      </tr>
    </ng-template>
  </tbody>
</nz-table>
